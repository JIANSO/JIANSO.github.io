<!doctype html>
<html lang="en" data-bs-theme="auto">
  <head><script src="../assets/js/color-modes.js"></script>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="Mark Otto, Jacob Thornton, and Bootstrap contributors">
    <meta name="generator" content="Hugo 0.122.0">
    <title>Home</title>
    <link rel="canonical" href="https://getbootstrap.com/docs/5.3/examples/album/">  

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@docsearch/css@3">
    <link href="../assets/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="../assets/css/custom.css?timestamp=20240816" rel="stylesheet">
    <style>      
    </style>    
  </head>
  <body>    

<header data-bs-theme="dark">
  <div class="text-bg-dark" id="">
    <div class="container">
      <div class="row">
        <div class="col-sm-12 col-md-12 py-4 px-3">
          <h4>#Books</h4>
          <p class="text-body-secondary">
            <a href="/">
              <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" class="bi bi-arrow-left" viewBox="0 0 16 16">
                <path fill-rule="evenodd" d="M15 8a.5.5 0 0 0-.5-.5H2.707l3.147-3.146a.5.5 0 1 0-.708-.708l-4 4a.5.5 0 0 0 0 .708l4 4a.5.5 0 0 0 .708-.708L2.707 8.5H14.5A.5.5 0 0 0 15 8"/>
              </svg>
              Main
            </a>
          </p>
        </div>      
      </div>
    </div>
  </div>
</header>
<main>



  <div class="album py-5">
    <div class="container">

      <div class="container px-4 py-5" id="featured-3">
        <h2 class="pb-2 border-bottom">2024</h2>
        
        <div class="row g-4 py-5 row-cols-1 row-cols-lg-3" id="row_2024">   
        </div>
        
        <h2 class="pb-2 border-bottom">~2023</h2>
        <div class="row g-4 py-5 row-cols-1 row-cols-lg-3" id="row_2023"> 
        </div>
      </div>
    </div>
  </div>

</main>

<footer class="text-body-secondary py-5">
  <div class="container">
    
  </div>
</footer>
<script src="../assets/dist/js/bootstrap.bundle.min.js"></script>
<script type="text/javascript">
  document.addEventListener('DOMContentLoaded', function() {

    //json 렌더링
    
    get_books_data(year=2024);
    get_books_data(year=2023);
    /*
    const overlayContainers = document.querySelectorAll('.overlay-container');
    overlayContainers.forEach(container => {
        const overlay = container.querySelector('.overlay');
        container.addEventListener('mouseenter', () => {
            overlay.style.opacity = '1';
        });
        container.addEventListener('mouseleave', () => {
            overlay.style.opacity = '0';
        });
    });*/
});

function get_books_data(year){
  // JSON 파일의 경로 설정
  const jsonFilePath = '../assets/data/books.json';

  // fetch API를 사용하여 JSON 파일 읽어오기
  fetch(jsonFilePath)
      .then(response => {
          if (!response.ok) {
              throw new Error('Network response was not ok ' + response.statusText);
          }
          return response.json();
      })
      .then(data => {
          // JSON 데이터를 HTML에 표시
          let card_list = create_book_card(data[year])
          document.getElementById('row_'+year).innerHTML += card_list;
      })
      .catch(error => {
          console.error('Error fetching JSON:', error);
      });
}

function create_book_card(book_list){
  let card_html = '';
  
  book_list.forEach(function(e,i){
    card_html += `<div class=" col-lg-3 col-md-4">
      <div class="card my-3">
        <div class="overlay-container">
          <img class="books" src="${e['src']}" width="100%" />
          <div class="overlay">
            <div class="text">
              <span class="fs-6">${e['text']}</span>
            </div>
          </div> 
        </div>                          
      </div>
    </div>`
  });

  return card_html;
  
}
</script>
</body>
</html>
